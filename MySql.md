# MySql

## 1.索引

### 	什么是索引

​		索引是一种数据结构，可以帮助mysql高效的获取数据。

### 	索引类型

​		B+树索引

​			按照算法把索引存入到b+树中，每次查询都是从根节点出发，遍历获取索引

​		hash索引

​			由于hash的特性，可以一次定位，效率高，但是对于范围查询，排序及组合索引依旧不高

​		全文索引

​			目前只有myisam引擎支持，只能在char，varchar，text类型的字段上创建

​		R树索引

### 	索引的种类

​		普通索引

​		组合索引

​		主键索引

​		全文索引

​		聚簇索引

​		非聚簇索引

### 	索引的原理

### InnoDB的索引和MyISAM的索引的区别

​	索引的存储方式不同，innodb采用b+树存储，索引和数据存在一起，而myisam数据和索引是分开存储的

### 如果一张表没有索引，还会创建b+树吗

​	会，会创建一个b+树，存储的是row_id，目的是合理的存储数据

### 二叉树，b树，b+树的区别，为什么选用b+树作为索引的数据结构

​	二叉树节点最多拥有两个叶子节点，所有的节点只能存储一个字段，左指针指向小于本节点的数，右指针指向大于本节点的数，二叉树的查找类似于二分法，但是极限情况下，二叉树有可能退化成链表，导致查询时间过长

​	b树相较于二叉树，每个节点可以有多个叶子节点

​	b+树相较于b树，非叶子节点只存储索引，且一个节点内可以有多个元素，叶子节点存储数据，叶子节点有指针链接，支持范围查询

由于b+树非叶子节点不存储数据，可以使IO次数减少，性能稳定，叶子节点相连，遍历更加方便

### 覆盖索引

### 索引下推

### 回表

### 索引失效

### 最左匹配原则

## 2.数据库引擎

### 	InnoDB

​		支持ACID事务

​		行级锁

​		支持外键

​		崩溃恢复

​		高并发性能高（MVCC）

​		默认存储引擎

### 	MyISAM

​		表锁

​		支持全文索引

​		不支持事务

​		不支持外键

### 	Memory

### 	Archive

## 3.事务

### ACID

### 隔离级别和解决方案

### MVCC